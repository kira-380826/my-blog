---
interface Props {
  links: {
    label: string;
    href?: string;
  }[];
}

const { links } = Astro.props;
---

<nav class="breadcrumbs" aria-label="Breadcrumbs">
  <ol>
    <li>
      <a href="/">Home</a>
    </li>
    
    {links.map((link) => (
      <>
        <li class="separator">/</li>
        <li>
          {link.href ? (
            <a href={link.href}>{link.label}</a>
          ) : (
            /* リンクがない場合（現在のページなど）はテキストのみ表示 */
            <span aria-current="page" class="current-page">{link.label}</span>
          )}
        </li>
      </>
    ))}
  </ol>
</nav>

<style>
  .breadcrumbs {
    margin-bottom: 1rem;
  }
  .breadcrumbs ol {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 0.9em;
    color: rgb(var(--gray));
  }
  .breadcrumbs li {
    display: inline-flex;
    align-items: center;
  }
  .breadcrumbs a {
    color: rgb(var(--gray-dark));
    text-decoration: none;
    transition: color 0.2s;
  }
  .breadcrumbs a:hover {
    color: var(--accent);
    text-decoration: underline;
  }
  .separator {
    margin: 0 0.5em;
    color: rgb(var(--gray));
    opacity: 0.7;
  }
  .current-page {
    color: rgb(var(--gray));
    /* 長すぎるタイトルを省略したい場合は以下を有効化してください */
    /*
    max-width: 300px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    */
  }
</style>